нам дан набор окружностей. сначала посчетаем какие лежат в каких наивно за N^2. Теперь нам по сути дан модифиированный лес, где каждое дерево таково что если a предок b, то существует ребро (a, b). Наш задача превратить это ациклический направленный граф в дерево, для этого в дфс-е будет хранить список предков и если список предков ровно равен списку вершин в которых есть ребро из этого графа, то будем спускатся вниз. Таким образом поскольку каждая вершина обходится n раз, операция на обход n^2 получаем n^3.
